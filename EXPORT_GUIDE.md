# é™æ€å¯¼å‡ºæŒ‡å—

## âœ… é…ç½®å®Œæˆ

å·²æˆåŠŸé…ç½® Next.js é™æ€å¯¼å‡ºåŠŸèƒ½ï¼

## ğŸ“¦ å¦‚ä½•ä½¿ç”¨

### 1. æ„å»ºé™æ€ç«™ç‚¹

```bash
npm run export
```

æˆ–è€…ä½¿ç”¨ä¼ ç»Ÿçš„ build å‘½ä»¤ï¼ˆæ•ˆæœç›¸åŒï¼‰ï¼š

```bash
npm run build
```

### 2. è¾“å‡ºç›®å½•

æ„å»ºå®Œæˆåï¼Œé™æ€æ–‡ä»¶ä¼šç”Ÿæˆåœ¨ `out` ç›®å½•ä¸­ï¼š

```
out/
â”œâ”€â”€ index.html
â”œâ”€â”€ _next/
â”‚   â”œâ”€â”€ static/
â”‚   â””â”€â”€ ...
â””â”€â”€ ...
```

### 3. éƒ¨ç½²

å¯ä»¥å°† `out` ç›®å½•éƒ¨ç½²åˆ°ä»»ä½•é™æ€æ‰˜ç®¡æœåŠ¡ï¼š

#### æ–¹å¼ 1: æœ¬åœ°é¢„è§ˆ

```bash
# ä½¿ç”¨ serveï¼ˆéœ€å…ˆå®‰è£…ï¼šnpm i -g serveï¼‰
npx serve out

# æˆ–ä½¿ç”¨ Python
python -m http.server 3000 -d out
```

#### æ–¹å¼ 2: éƒ¨ç½²åˆ° GitHub Pages

1. å°† `out` ç›®å½•å†…å®¹æ¨é€åˆ° `gh-pages` åˆ†æ”¯
2. åœ¨ GitHub ä»“åº“è®¾ç½®ä¸­å¯ç”¨ GitHub Pages

#### æ–¹å¼ 3: éƒ¨ç½²åˆ° Vercel/Netlify

ç›´æ¥è¿æ¥ GitHub ä»“åº“ï¼Œè‡ªåŠ¨éƒ¨ç½²

#### æ–¹å¼ 4: éƒ¨ç½²åˆ°æœåŠ¡å™¨

```bash
# å°† out ç›®å½•ä¸Šä¼ åˆ°æœåŠ¡å™¨çš„ web æ ¹ç›®å½•
scp -r out/* user@server:/var/www/html/
```

## âš™ï¸ é…ç½®è¯´æ˜

### next.config.ts

```typescript
const nextConfig: NextConfig = {
  output: 'export',  // å¯ç”¨é™æ€å¯¼å‡º
  
  // å¯é€‰é…ç½®ï¼š
  // basePath: '/my-app',  // å¦‚æœéƒ¨ç½²åˆ°å­ç›®å½•
  // distDir: 'dist',      // è‡ªå®šä¹‰è¾“å‡ºç›®å½•
};
```

### package.json

```json
{
  "scripts": {
    "export": "next build"  // å¯¼å‡ºå‘½ä»¤
  }
}
```

## âš ï¸ æ³¨æ„äº‹é¡¹

### 1. ä¸æ”¯æŒçš„ç‰¹æ€§

é™æ€å¯¼å‡ºæ¨¡å¼ä¸‹ï¼Œä»¥ä¸‹åŠŸèƒ½ä¸å¯ç”¨ï¼š

- âŒ åŠ¨æ€è·¯ç”±ï¼ˆéœ€è¦ `generateStaticParams`ï¼‰
- âŒ API Routesï¼ˆ`app/api/*`ï¼‰
- âŒ æœåŠ¡ç«¯è¿è¡Œæ—¶åŠŸèƒ½ï¼ˆSSRã€ISRï¼‰
- âŒ Image Optimizationï¼ˆéœ€è¦è‡ªå®šä¹‰ loaderï¼‰
- âŒ å›½é™…åŒ–è·¯ç”±

### 2. å›¾ç‰‡ä¼˜åŒ–

å¦‚æœä½¿ç”¨ `next/image`ï¼Œéœ€è¦é…ç½®è‡ªå®šä¹‰ loaderï¼š

```typescript
// next.config.ts
const nextConfig: NextConfig = {
  output: 'export',
  images: {
    unoptimized: true,  // ç¦ç”¨å›¾ç‰‡ä¼˜åŒ–
    // æˆ–ä½¿ç”¨è‡ªå®šä¹‰ loader
  },
};
```

### 3. ç¯å¢ƒå˜é‡

ç¡®ä¿åœ¨æ„å»ºæ—¶æä¾›æ‰€æœ‰éœ€è¦çš„ç¯å¢ƒå˜é‡ï¼š

```bash
# .env.local
NEXT_PUBLIC_API_URL=https://api.example.com
```

## ğŸ¯ å½“å‰é¡¹ç›®è¯´æ˜

### é¡¹ç›®ç‰¹ç‚¹

æœ¬é¡¹ç›®æ˜¯ä¸€ä¸ª**çº¯å®¢æˆ·ç«¯åº”ç”¨**ï¼Œéå¸¸é€‚åˆé™æ€å¯¼å‡ºï¼š

- âœ… æ— æœåŠ¡ç«¯ API
- âœ… æ— åŠ¨æ€è·¯ç”±
- âœ… çº¯å‰ç«¯äº¤äº’
- âœ… æœ¬åœ°æ•°æ®å¤„ç†

### æ¨èéƒ¨ç½²æ–¹å¼

1. **GitHub Pages**ï¼ˆå…è´¹ï¼‰
   - é€‚åˆä¸ªäººé¡¹ç›®
   - è‡ªåŠ¨ HTTPS
   - CDN åŠ é€Ÿ

2. **Vercel**ï¼ˆæ¨èï¼‰
   - ä¸“ä¸º Next.js ä¼˜åŒ–
   - è‡ªåŠ¨éƒ¨ç½²
   - å…¨çƒ CDN

3. **Netlify**ï¼ˆå¤‡é€‰ï¼‰
   - ç®€å•æ˜“ç”¨
   - å…è´¹é¢åº¦å……è¶³
   - æ”¯æŒè¡¨å•ç­‰åŠŸèƒ½

## ğŸš€ å¿«é€Ÿå¼€å§‹

```bash
# 1. å®‰è£…ä¾èµ–
npm install

# 2. å¼€å‘æ¨¡å¼
npm run dev

# 3. æ„å»ºé™æ€ç«™ç‚¹
npm run export

# 4. é¢„è§ˆæ„å»ºç»“æœ
npx serve out
```

## ğŸ“ æ–‡ä»¶å¤§å°ä¼˜åŒ–

### æŸ¥çœ‹æ„å»ºäº§ç‰©

```bash
npm run build
# ä¼šæ˜¾ç¤ºæ¯ä¸ªé¡µé¢çš„å¤§å°
```

### ä¼˜åŒ–å»ºè®®

1. **ä»£ç åˆ†å‰²**ï¼šNext.js è‡ªåŠ¨å¤„ç†
2. **Tree Shaking**ï¼šè‡ªåŠ¨ç§»é™¤æœªä½¿ç”¨ä»£ç 
3. **å‹ç¼©**ï¼šç”Ÿäº§æ„å»ºè‡ªåŠ¨å‹ç¼©
4. **CDN**ï¼šä½¿ç”¨ CDN åŠ é€Ÿé™æ€èµ„æº

## ğŸ”§ å¸¸è§é—®é¢˜

### Q: æ„å»ºåé¡µé¢ç©ºç™½ï¼Ÿ

A: æ£€æŸ¥æ˜¯å¦éœ€è¦é…ç½® `basePath`ï¼Œç‰¹åˆ«æ˜¯éƒ¨ç½²åˆ°å­ç›®å½•æ—¶ã€‚

### Q: æ ·å¼ä¸¢å¤±ï¼Ÿ

A: ç¡®ä¿æ‰€æœ‰ CSS æ–‡ä»¶éƒ½è¢«æ­£ç¡®å¯¼å…¥ã€‚

### Q: è·¯ç”±ä¸å·¥ä½œï¼Ÿ

A: é™æ€å¯¼å‡ºä½¿ç”¨æ–‡ä»¶ç³»ç»Ÿè·¯ç”±ï¼Œç¡®ä¿æœåŠ¡å™¨é…ç½®æ­£ç¡®å¤„ç†å®¢æˆ·ç«¯è·¯ç”±ã€‚

### Q: å¦‚ä½•å¤„ç† 404 é¡µé¢ï¼Ÿ

A: Next.js ä¼šè‡ªåŠ¨ç”Ÿæˆ `404.html`ã€‚

## ğŸ“š ç›¸å…³èµ„æº

- [Next.js é™æ€å¯¼å‡ºæ–‡æ¡£](https://nextjs.org/docs/app/building-your-application/deploying/static-exports)
- [Vercel éƒ¨ç½²æŒ‡å—](https://vercel.com/docs)
- [GitHub Pages è®¾ç½®](https://pages.github.com/)

---

**ç¥éƒ¨ç½²é¡ºåˆ©ï¼** ğŸ‰

